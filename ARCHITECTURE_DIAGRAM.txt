╔═══════════════════════════════════════════════════════════════════════════════╗
║                    🛡️ ASTROSHIELD - ARQUITETURA DO SISTEMA                   ║
║                    NASA Space Apps Challenge 2025                             ║
╚═══════════════════════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────────────────────┐
│                              CAMADA DE APRESENTAÇÃO                           │
│                                (Frontend Web)                                 │
└───────────────────────────────────────────────────────────────────────────────┘

                                    index.html
                                        │
                    ┌───────────────────┴───────────────────┐
                    │                                       │
              ┌─────▼──────┐                         ┌─────▼──────┐
              │  Canvas 3D │                         │  Control   │
              │  (Three.js)│                         │   Panel    │
              └─────┬──────┘                         └─────┬──────┘
                    │                                       │
         ┌──────────┴──────────┐                  ┌────────┴────────┐
         │                     │                  │                 │
    ┌────▼────┐          ┌────▼────┐        ┌────▼────┐      ┌────▼────┐
    │  Earth  │          │ Impact  │        │ Sliders │      │ Results │
    │  Model  │          │ Marker  │        │ & Select│      │  Panel  │
    │ (GLB)   │          │ & Zone  │        └─────────┘      └─────────┘
    └─────────┘          └─────────┘


┌───────────────────────────────────────────────────────────────────────────────┐
│                              CAMADA DE LÓGICA                                 │
│                          (JavaScript ES6 Modules)                             │
└───────────────────────────────────────────────────────────────────────────────┘

                                    app.js
                                       │
              ┌────────────────────────┼────────────────────────┐
              │                        │                        │
        ┌─────▼──────┐         ┌──────▼───────┐        ┌──────▼──────┐
        │ AstroShield│         │   Impact     │        │     UI      │
        │   Viewer   │         │  Calculator  │        │ Controller  │
        └─────┬──────┘         └──────┬───────┘        └──────┬──────┘
              │                       │                        │
    ┌─────────┼─────────┐    ┌────────┼────────┐      ┌───────┼───────┐
    │         │         │    │        │        │      │       │       │
┌───▼───┐ ┌──▼──┐ ┌────▼─┐ ┌▼────┐ ┌▼────┐ ┌▼────┐ ┌▼────┐ ┌▼────┐ ┌▼────┐
│ Scene │ │Camera│ │Lights│ │Mass │ │Energy│ │Crater│ │Event│ │Load │ │Run  │
│ Setup │ │Controls│ │Stars│ │Calc │ │Calc │ │Calc │ │Listen│ │Scene│ │Sim  │
└───────┘ └──────┘ └──────┘ └─────┘ └──────┘ └─────┘ └─────┘ └─────┘ └─────┘


                        nasa-neo-integration.js
                                   │
                  ┌────────────────┴────────────────┐
                  │                                 │
           ┌──────▼─────┐                   ┌──────▼──────┐
           │   NASA     │                   │     NEO     │
           │    NEO     │                   │   Selector  │
           │  Service   │                   │     UI      │
           └──────┬─────┘                   └──────┬──────┘
                  │                                 │
        ┌─────────┼─────────┐              ┌───────┼───────┐
        │         │         │              │       │       │
    ┌───▼───┐ ┌──▼──┐ ┌────▼─┐        ┌───▼───┐ ┌▼────┐ ┌▼────┐
    │ Get   │ │Parse│ │Cache │        │Populate│ │Select│ │Auto │
    │ Feed  │ │Data │ │System│        │Dropdown│ │ NEO  │ │Fill │
    └───────┘ └─────┘ └──────┘        └────────┘ └─────┘ └─────┘


┌───────────────────────────────────────────────────────────────────────────────┐
│                              CAMADA DE DADOS                                  │
│                        (APIs Externas & Assets)                               │
└───────────────────────────────────────────────────────────────────────────────┘

     ┌─────────────────┐              ┌─────────────────┐
     │   NASA NEO API  │              │  USGS National  │
     │                 │              │       Map       │
     │ api.nasa.gov    │              │  (Planejado)    │
     └────────┬────────┘              └────────┬────────┘
              │                                │
              │  JSON Feed                     │  GeoJSON
              │  • Asteroids                   │  • Topography
              │  • Velocity                    │  • Population
              │  • Orbit Data                  │  • Seismic Data
              │                                │
              └────────────┬───────────────────┘
                           │
                   ┌───────▼────────┐
                   │  Application   │
                   │  Data Layer    │
                   │                │
                   │  • localStorage │
                   │  • Cache       │
                   │  • Session     │
                   └────────────────┘

     ┌─────────────────────────────────────────┐
     │          Local Assets                   │
     │                                         │
     │  • earth_3d.glb (13 MB)                │
     │  • three.js library (~600 KB)          │
     │  • CSS styles (embedded)               │
     └─────────────────────────────────────────┘


┌───────────────────────────────────────────────────────────────────────────────┐
│                         FLUXO DE DADOS - SIMULAÇÃO                            │
└───────────────────────────────────────────────────────────────────────────────┘

    Usuário ajusta sliders
            │
            ▼
    ┌───────────────┐
    │  UI Inputs    │ diameter: 500m, velocity: 28km/s
    └───────┬───────┘ angle: 45°, density: 2500 kg/m³
            │
            ▼
    ┌───────────────┐
    │ Click "Simular│
    │    Impacto"   │
    └───────┬───────┘
            │
            ▼
    ┌───────────────────────────────────────┐
    │      ImpactCalculator                 │
    │                                       │
    │  1. calculateMass()                   │
    │     → 6.5 × 10^10 kg                  │
    │                                       │
    │  2. calculateKineticEnergy()          │
    │     → E = ½mv² = 2.5 × 10^19 J       │
    │                                       │
    │  3. energyToMegatons()                │
    │     → 6,000 MT                        │
    │                                       │
    │  4. calculateCraterDiameter()         │
    │     → 8.5 km                          │
    │                                       │
    │  5. calculateSeismicMagnitude()       │
    │     → 8.1 Richter                     │
    │                                       │
    │  6. calculateBlastRadius()            │
    │     → 38 km                           │
    └───────┬───────────────────────────────┘
            │
            ▼
    ┌───────────────┐
    │ Update UI     │
    │ • Results Panel
    │ • 3D Marker   │
    │ • Impact Zone │
    └───────────────┘


┌───────────────────────────────────────────────────────────────────────────────┐
│                     FLUXO DE DADOS - NASA NEO API                             │
└───────────────────────────────────────────────────────────────────────────────┘

    Usuário importa módulo NASA
            │
            ▼
    ┌───────────────────────┐
    │  NASANEOService       │
    │  getFeed(start, end)  │
    └───────┬───────────────┘
            │
            ▼  HTTP GET
    ┌───────────────────────────────┐
    │  https://api.nasa.gov/neo/    │
    │         rest/v1/feed          │
    │                               │
    │  ?start_date=2025-10-04       │
    │  &end_date=2025-10-11         │
    │  &api_key=YOUR_KEY            │
    └───────┬───────────────────────┘
            │
            ▼  JSON Response
    ┌───────────────────────────┐
    │  {                        │
    │   "element_count": 25,    │
    │   "near_earth_objects": { │
    │     "2025-10-04": [       │
    │       {                   │
    │         "name": "Apophis" │
    │         "diameter": 0.37km│
    │         "velocity": 30.7  │
    │         ...               │
    │       }                   │
    │     ]                     │
    │   }                       │
    │  }                        │
    └───────┬───────────────────┘
            │
            ▼
    ┌───────────────────────┐
    │  parseAsteroidData()  │
    │  • Normalize format   │
    │  • Extract relevant   │
    └───────┬───────────────┘
            │
            ▼
    ┌───────────────────────────┐
    │  NEOSelector              │
    │  • Populate dropdown      │
    │  • On select → Auto-fill  │
    └───────────────────────────┘


┌───────────────────────────────────────────────────────────────────────────────┐
│                        CAMADA DE BACKEND (FUTURO)                             │
└───────────────────────────────────────────────────────────────────────────────┘

                              Django 5.x
                                  │
         ┌────────────────────────┼────────────────────────┐
         │                        │                        │
    ┌────▼────┐            ┌──────▼──────┐         ┌──────▼──────┐
    │  Models │            │    Views    │         │   Serializers│
    │         │            │   (API)     │         │    (DRF)     │
    │• User   │            │             │         │              │
    │• Simulation         │• POST /simulate       │• JSON        │
    │• Asteroid│            │• GET /history │         │  Format      │
    └────┬────┘            └──────┬──────┘         └──────┬──────┘
         │                        │                        │
         └────────────────────────┼────────────────────────┘
                                  │
                         ┌────────▼────────┐
                         │  PostgreSQL +   │
                         │     PostGIS     │
                         │                 │
                         │  • Simulations  │
                         │  • Users        │
                         │  • Geo Data     │
                         └─────────────────┘


┌───────────────────────────────────────────────────────────────────────────────┐
│                            DEPLOYMENT (PRODUÇÃO)                              │
└───────────────────────────────────────────────────────────────────────────────┘

                            ┌──────────────┐
                            │   GitHub     │
                            │  Repository  │
                            └──────┬───────┘
                                   │
                    ┌──────────────┴──────────────┐
                    │                             │
            ┌───────▼────────┐          ┌─────────▼────────┐
            │  GitHub Pages  │          │  Netlify/Vercel  │
            │  (Static Site) │          │   (Auto Deploy)  │
            └───────┬────────┘          └─────────┬────────┘
                    │                             │
                    └──────────────┬──────────────┘
                                   │
                            ┌──────▼──────┐
                            │   Users     │
                            │  (Browser)  │
                            └─────────────┘

        OU (Com Backend)

                    ┌─────────────────────┐
                    │        AWS          │
                    │                     │
                    │  • EC2 (Django)     │
                    │  • RDS (PostgreSQL) │
                    │  • S3 (Assets)      │
                    │  • CloudFront (CDN) │
                    └─────────────────────┘


═══════════════════════════════════════════════════════════════════════════════

                            TECNOLOGIAS UTILIZADAS

 Frontend               Backend (Futuro)        APIs & Data
 ─────────             ──────────────────      ─────────────
 • Three.js r180       • Django 5.x            • NASA NEO API
 • JavaScript ES6+     • PostgreSQL 16         • USGS National Map
 • HTML5               • PostGIS               • JSON
 • CSS3                • Django REST Framework • GeoJSON
 • WebGL               • Celery (async)
                       • Redis (cache)

═══════════════════════════════════════════════════════════════════════════════

                         CARACTERÍSTICAS CHAVE

 ✅ Zero dependências npm no frontend
 ✅ Vanilla JavaScript puro (ES6 modules)
 ✅ WebGL via Three.js (sem frameworks pesados)
 ✅ Código modular e bem documentado
 ✅ Cache inteligente (NASA API: 1h TTL)
 ✅ Cálculos baseados em papers científicos
 ✅ Performance otimizada (< 3s load)

═══════════════════════════════════════════════════════════════════════════════
